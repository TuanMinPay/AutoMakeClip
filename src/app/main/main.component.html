<div class="filemgr-wrapper">
  <div class="filemgr-sidebar">
    <div class="filemgr-sidebar-header">
      <div class="dropdown dropdown-icon flex-fill">
        <button class="btn btn-xs btn-block btn-white" data-toggle="dropdown">New <i
            data-feather="chevron-down"></i></button>
        <div class="dropdown-menu tx-13">
          <a href="javascript:void(0)" class="dropdown-item"><i data-feather="folder"></i><span>Folder</span></a>
          <a href="javascript:void(0)" class="dropdown-item"><i data-feather="file"></i><span>Notes</span></a>
          <div class="dropdown-divider"></div>
          <a href="javascript:void(0)" class="dropdown-item"><i data-feather="file-text"></i><span>Word
              Document</span></a>
          <a href="javascript:void(0)" class="dropdown-item"><i data-feather="file-text"></i><span>Powepoint</span></a>
          <a href="javascript:void(0)" class="dropdown-item"><i data-feather="file-text"></i><span>Excel
              Spreadsheet</span></a>
        </div><!-- dropdown-menu -->
      </div><!-- dropdown -->
      <div class="dropdown dropdown-icon flex-fill mg-l-10">
        <button class="btn btn-xs btn-block btn-primary" data-toggle="dropdown">Upload <i
            data-feather="chevron-down"></i></button>
        <div class="dropdown-menu tx-13">
          <a href="javascript:void(0)" class="dropdown-item"><i data-feather="file"></i><span>File</span></a>
          <a href="javascript:void(0)" class="dropdown-item"><i data-feather="folder"></i><span>Folder</span></a>
        </div><!-- dropdown-menu -->
      </div><!-- dropdown -->
    </div><!-- filemgr-sidebar-header -->
    <div class="filemgr-sidebar-body">
      <div class="pd-t-20 pd-b-10 pd-x-10">
        <label class="tx-sans tx-uppercase tx-medium tx-10 tx-spacing-1 tx-color-03 pd-l-10">My Drive</label>
        <nav class="nav nav-sidebar tx-13">
          <a href="javascript:void(0)" class="nav-link active"><i data-feather="folder"></i> <span>All Files</span></a>
          <a href="javascript:void(0)" class="nav-link"><i data-feather="monitor"></i> <span>My Devices</span></a>
          <a href="javascript:void(0)" class="nav-link"><i data-feather="clock"></i> <span>Recents</span></a>
          <a href="javascript:void(0)" class="nav-link"><i data-feather="star"></i> <span>Important</span></a>
          <a href="javascript:void(0)" class="nav-link"><i data-feather="trash"></i> <span>Deleted Files</span></a>
        </nav>
      </div>
      <div class="pd-10">
        <label class="tx-sans tx-uppercase tx-medium tx-10 tx-spacing-1 tx-color-03 pd-l-10">File Library</label>
        <nav class="nav nav-sidebar tx-13">
          <a href="javascript:void(0)" class="nav-link"><i data-feather="file"></i> <span>Documents</span></a>
          <a href="javascript:void(0)" class="nav-link"><i data-feather="image"></i> <span>Images</span></a>
          <a href="javascript:void(0)" class="nav-link"><i data-feather="video"></i> <span>Videos</span></a>
          <a href="javascript:void(0)" class="nav-link"><i data-feather="music"></i> <span>Audio</span></a>
          <a href="javascript:void(0)" class="nav-link"><i data-feather="package"></i> <span>Zip Files</span></a>
        </nav>
      </div>
      <div class="pd-y-10 pd-x-20">
        <label class="tx-sans tx-uppercase tx-medium tx-10 tx-spacing-1 tx-color-03 mg-b-15">Storage Status</label>

        <div class="media">
          <i data-feather="database" class="wd-30 ht-30"></i>
          <div class="media-body mg-l-10">
            <div class="tx-12 mg-b-4">10.2GB used of 50GB</div>
            <div class="progress ht-3 mg-b-20">
              <div class="progress-bar wd-15p" role="progressbar" aria-valuenow="15" aria-valuemin="0"
                aria-valuemax="100"></div>
            </div>
          </div><!-- media-body -->
        </div><!-- media -->
        <p class="tx-12">Get 2TB (2,000GB) of storage now and get 40% off. Offers ends soon. <a
            href="javascript:void(0)">Learn more</a>
        </p>
      </div>
    </div><!-- filemgr-sidebar-body -->
  </div><!-- filemgr-sidebar -->

  <div class="filemgr-content">
    <div class="filemgr-content-header">
      <i data-feather="search"></i>
      <div class="search-form">
        <input type="search" class="form-control" placeholder="Search keyword here" #keyword
          (keyup.enter)="getVideoByKeyword(keyword.value)">
      </div><!-- search-form -->
    </div><!-- filemgr-content-header -->
    <div class="filemgr-content-body">
      <div class="pd-20 pd-lg-25 pd-xl-30" *ngIf="searchResults != null">
        <div data-label="Search Results" class="df-example">
          <div class="row row-xs">
            <div class="col-2 item-video" *ngFor="let item of searchResults?.results">
              <div class="card card-file" (mouseenter)="showAction(item.id)" (mouseleave)="hideAction()">
                <div class="card-file-thumb tx-danger">
                  <div class="action-btn" *ngIf="actionDisplay == item.id">
                    <button type="button" class="btn btn-xs btn-primary" (click)="previewVideo(item.id)"
                      data-toggle="modal" data-target="#modalSplitColumn">Preview</button>
                    <button class="btn btn-xs btn-success" (click)="addVideoToList(item)">Add</button>
                  </div>
                  <img [src]="item.thumbnail_url" class="img-srs">
                </div>
                <div class="card-body">
                  <h6><a href="javascript:void(0)" class="link-02">{{item.text}}</a></h6>
                  <span>{{item.region}}</span>
                </div>
              </div>
            </div><!-- col -->
          </div>
          <nav aria-label="Pagination search results">
            <ul class="pagination mg-b-0 mg-t-20">
              <li *ngFor="let item of pageControl?.pages"
                class="page-item {{(pageControl?.currentPage == item) ? 'active' : ''}}"><a class="page-link"
                  href="javascript:void(0)" (click)="changePageSearchResult(item)">{{item}}</a></li>
            </ul>
          </nav>
        </div>
      </div>

      <div class="pd-20 pd-lg-25 pd-xl-30" *ngIf="dataVideo.list_video.length > 0" #target>
        <div data-label="Choose Results" class="df-example">
          <div class="row row-xs">
            <div class="col-2 item-video" *ngFor="let item of dataVideo.list_video">
              <div class="card card-file" (mouseenter)="showActionRemove(item.id)" (mouseleave)="hideActionRemove()">
                <div class="card-file-thumb tx-danger">
                  <div class="action-btn" *ngIf="actionRemove == item.id">
                    <button class="btn btn-xs btn-success" (click)="previewVideo(item.id)" data-toggle="modal"
                      data-target="#modalSplitColumn" *ngIf="chooseThumbnail">Make Thumb</button>
                    <button class="btn btn-xs btn-danger" (click)="removeVideoFromList(item)">Del</button>
                  </div>
                  <img [src]="item.thumbnail_url" class="img-srs">
                </div>
                <div class="card-body">
                  <h6><a href="javascript:void(0)" class="link-02">{{item.text}}</a></h6>
                  <span>{{item.region}}</span>
                </div>
              </div>
            </div><!-- col -->
          </div>
        </div>
      </div>

      <div class="pd-20 pd-lg-25 pd-xl-30" *ngIf="dataVideo.list_video.length > 0">
        <div data-label="Thumbnail Style" class="df-example">
          <div class="row thumb-style">
            <div class="col-2" *ngFor="let item of listThumbnailStyle">
              <img [src]="item.image" style="cursor: pointer;"
                class="{{styleSelected == item.id ? 'active-thumbnail' : ''}} img-thumbnail" [alt]="item.name"
                (click)="chooseStyleThumbnail(item)">
            </div>
          </div>

          <div class="row mt-3 df-example thumb-style" data-label="Choose Thumbnail Image"
            *ngIf="styleSelected != null">
            <figure class="pos-relative mg-b-0 col-{{colBind}}" *ngFor="let item of dataVideo.thumb_arr;">
              <img [src]="item.image" class="img-fit-cover">
              <figcaption class="pos-absolute b-0 l-0 wd-100p pd-20 d-flex justify-content-center">
                <div class="btn-group">
                  <button type="button" class="btn btn-primary btn-icon" (click)="editThumbnail(item.id)">Edit</button>
                </div>
              </figcaption>
            </figure>
          </div>
        </div>
      </div>

      <div class="pd-20 pd-lg-25 pd-xl-30" *ngIf="styleSelected != null">
        <div data-label="Video Infomation" class="df-example demo-forms">
          <div class="form-group">
            <label class="d-block">Title</label>
            <input type="text" name="title" [(ngModel)]="dataVideo.title" class="form-control" placeholder="Title">
          </div>
          <div class="form-group">
            <label class="d-block">Description</label>
            <textarea name="description" [(ngModel)]="dataVideo.description" class="form-control" id="description" cols="30" rows="10"></textarea>
          </div>
          <div class="form-group">
              <label class="d-block">Tag (separated by commas)</label>
              <input type="text" name="tags" [(ngModel)]="dataVideo.tags" class="form-control" placeholder="halloween, ghost, ...etc">
            </div>
        </div>
      </div>

      <div class="pd-20 pd-lg-25 pd-xl-30">
          <button type="button" class="btn btn-success" (click)="save()">Save</button>
          <button type="button" class="btn btn-danger mg-l-10">Reset All</button>
      </div>

    </div><!-- filemgr-content-body -->
  </div><!-- filemgr-content -->

</div><!-- filemgr-wrapper -->

<div class="pos-absolute t-10 r-10">
  <div class="toast" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">
      <h6 class="tx-inverse tx-14 mg-b-0 mg-r-auto">Notification</h6>
      <small>11 mins ago</small>
      <button type="button" class="ml-2 mb-1 close tx-normal" data-dismiss="toast" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="toast-body">
      Hello, world! This is a toast message.
    </div>
  </div>
</div>

<div class="modal fade" id="modalSplitColumn" aria-labelledby="modalSplitColumn" tabindex="-1" role="dialog"
  aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-dialog-centered mx-wd-sm-650" role="document">
    <div class="modal-content bd-0 bg-transparent">
      <div class="modal-body pd-0">
        <a href="javascript:void(0)" (click)="dataSelected = null" role="button"
          class="close pos-absolute t-15 r-15 z-index-10" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </a>

        <div class="row no-gutters" *ngIf="dataSelected != null">
          <div class="col-3 col-sm-5 col-md-6 col-lg-5 rounded-left">
            <div class="wd-100p ht-100p">
              <video #video class="wd-100p img-fit-cover img-object-top rounded-left" controls autoplay
                poster="../../assets/imgs/abc.gif" *ngIf="!chooseThumbnail">
                <source [src]="dataSelected.video_link" type="video/mp4">
                Your browser does not support HTML5 video.
              </video>
              <video #video class="wd-100p img-fit-cover img-object-top rounded-left" controls autoplay
                poster="../../assets/imgs/abc.gif" crossorigin="anonymous" *ngIf="chooseThumbnail">
                <source
                  src="https://v16.tiktokcdn.com/7599650b4397facf58379d9d7995ead1/5dc931fd/video/n/v0102/63b5b7de3a2447cb95b2bd13b33271a3/?a=1180&br=1292&cr=0&cs=0&dr=3&ds=3&er=&l=2019111104032501011513120717A53A57&lr=tiktok&qs=0&rc=ajM7PHlzazQ4cDMzZjgzM0ApZWdkODg5OGUzNzUzNzM2ZGdpYC8xZmNoMnNfLS1hLzRzc2MtMl5fLTNhNC8uMDE1LjM6Yw%3D%3D"
                  type="video/mp4">
                Your browser does not support HTML5 video.
              </video>
            </div>
          </div><!-- col -->
          <div class="col-9 col-sm-7 col-md-6 col-lg-7 bg-white rounded-right">
            <canvas #canvas id="canvas" style="display: none;"></canvas>
            <div class="ht-100p d-flex flex-column justify-content-center pd-20 pd-sm-30 pd-md-40">
              <h3 class="tx-16 tx-sm-20 tx-md-24 mg-b-15 mg-md-b-20">{{dataSelected.text}}</h3>
              <p class="tx-14 tx-md-16 tx-color-02">
                Tags:
                <span class="badge badge-secondary" *ngFor="let item of dataSelected?.tags">{{item.name}}</span>
              </p>
              <p class="tx-14 tx-md-16 tx-color-02">Region: {{dataSelected?.region}}</p>
              <p class="tx-14 tx-md-16 tx-color-02">Author: {{dataSelected?.author.name}}</p>
              <a href="javascript:void(0)" class="btn btn-success btn-block btn-uppercase" data-dismiss="modal"
                (click)="addVideoToList(dataSelected)" *ngIf="!chooseThumbnail">Add To List</a>
              <a href="javascript:void(0)" class="btn btn-success btn-block btn-uppercase" (click)="capture()"
                data-dismiss="modal" *ngIf="chooseThumbnail">Take A Picture</a>
            </div>
          </div><!-- col -->
        </div><!-- row -->
      </div><!-- modal-body -->
    </div><!-- modal-content -->
  </div><!-- modal-dialog -->
</div><!-- modal -->